
INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/packages/teuchos/src
                    ${PROJECT_BINARY_DIR}/packages/teuchos/src)
IF(HAVE_SPARSE_GRID)
  INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/packages/VPISparseGrid/src)
ENDIF(HAVE_SPARSE_GRID)

## Pecos library sources.
FILE(GLOB Pecos_src *.cpp)

IF(HAVE_LHS)
  SET(Pecos_src ${Pecos_src} lhs_wrappers.f90)
  IF(CMAKE_Fortran_COMPILER_ID STREQUAL GNU)
    SET_PROPERTY(SOURCE lhs_wrappers.f90 PROPERTY COMPILE_FLAGS -ffixed-form)
  ELSEIF(CMAKE_Fortran_COMPILER_ID STREQUAL Intel)
    SET_PROPERTY(SOURCE lhs_wrappers.f90 PROPERTY COMPILE_FLAGS -fixed)
  ELSEIF(CMAKE_Fortran_COMPILER_ID STREQUAL PGI)
    SET_PROPERTY(SOURCE lhs_wrappers.f90 PROPERTY COMPILE_FLAGS -Mfixed)
  ENDIF()
ENDIF(HAVE_LHS)

ADD_LIBRARY(pecos_src ${Pecos_src})
IF(HAVE_LHS)
TARGET_LINK_LIBRARIES(pecos_src teuchos lhs ${LAPACK_LIBRARIES})
ELSE(HAVE_LHS)
TARGET_LINK_LIBRARIES(pecos_src teuchos ${LAPACK_LIBRARIES})
ENDIF(HAVE_LHS)

